# Less.js Lib
lib: lib/less


# =================================
# General
# =================================
prepend:
  browser: build/require.js
  rhino:   build/require-rhino.js

append:
  amd:     build/amd.js
  browser: <%= build.lib %>/browser.js
  rhino:   <%= build.lib %>/rhino.js


# =================================
# Core less files
# =================================
less:
  parser   : <%= build.lib %>/parser.js
  functions: <%= build.lib %>/functions.js
  colors   : <%= build.lib %>/colors.js
  tree     : <%= build.lib %>/tree.js
  env      : <%= build.lib %>/env.js
  visitor  : <%= build.lib %>/visitor.js
  import   : <%= build.lib %>/import-visitor.js
  join     : <%= build.lib %>/join-selector-visitor.js
  extend   : <%= build.lib %>/extend-visitor.js
  browser  : <%= build.lib %>/browser.js

  # glob all files in ./lib/less/tree directory
  treedir  : <%= build.lib %>/tree/*.js


# =================================
# Browser version
# =================================
browser:

  # prepend utils
  - <%= build.prepend.browser %>

  # core
  - <%= build.less.parser %>
  - <%= build.less.functions %>
  - <%= build.less.colors %>
  - <%= build.less.treedir %> # glob all files
  - <%= build.less.tree %>
  - <%= build.less.env %>
  - <%= build.less.visitor %>
  - <%= build.less.import %>
  - <%= build.less.join %>
  - <%= build.less.extend %>

  # append browser-specific code
  - <%= build.append.browser %>
  - <%= build.append.amd %>


# =================================
# Rhino version
# =================================
rhino:
  # prepend utils
  - <%= build.prepend.rhino %>

  # core
  - <%= build.less.parser %>
  - <%= build.less.env %>
  - <%= build.less.visitor %>
  - <%= build.less.import %>
  - <%= build.less.join %>
  - <%= build.less.extend %>
  - <%= build.less.functions %>
  - <%= build.less.colors %>
  - <%= build.less.treedir %> # glob all files
  - <%= build.less.tree %>

  # append rhino-specific code
  - <%= build.append.rhino %>


# =================================
# Tree
# =================================

# Technically listing them out isn't
# necessary since we can glob them
# in alphabetical order. This gives you
# control over the order the files
# are used, but can be removed if
# unneeded. If you remove, change instances
# of the <%= build.tree %> variable used abvoe
# to '<%= build.less.treedir %>/*.js'
tree:
  - <%= build.lib %>/tree/alpha.js
  - <%= build.lib %>/tree/anonymous.js
  - <%= build.lib %>/tree/assignment.js
  - <%= build.lib %>/tree/call.js
  - <%= build.lib %>/tree/color.js
  - <%= build.lib %>/tree/comment.js
  - <%= build.lib %>/tree/condition.js
  - <%= build.lib %>/tree/dimension.js
  - <%= build.lib %>/tree/directive.js
  - <%= build.lib %>/tree/element.js
  - <%= build.lib %>/tree/expression.js
  - <%= build.lib %>/tree/extend.js
  - <%= build.lib %>/tree/import.js
  - <%= build.lib %>/tree/javascript.js
  - <%= build.lib %>/tree/keyword.js
  - <%= build.lib %>/tree/media.js
  - <%= build.lib %>/tree/mixin.js
  - <%= build.lib %>/tree/negative.js
  - <%= build.lib %>/tree/operation.js
  - <%= build.lib %>/tree/paren.js
  - <%= build.lib %>/tree/quoted.js
  - <%= build.lib %>/tree/rule.js
  - <%= build.lib %>/tree/ruleset.js
  - <%= build.lib %>/tree/selector.js
  - <%= build.lib %>/tree/unicode-descriptor.js
  - <%= build.lib %>/tree/url.js
  - <%= build.lib %>/tree/value.js
  - <%= build.lib %>/tree/variable.js